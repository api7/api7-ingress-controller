apiVersion: v1
kind: ConfigMap
metadata:
  name: ingress-config
  namespace: {{ .Values.namespace }}
data:
  config.yaml: |
    log_level: "debug"

    controller_name: {{ .Values.controllerName | default "gateway.api7.io/api7-ingress-controller" }}

    leader_election_id: "api7-ingress-controller-leader"
    
    gateway_configs:
    - name: "api7ee"
      control_plane:
        admin_key: "{{ .Values.admin.key }}"
        endpoints:
          - "{{ .Values.admin.adminEndpoint }}"
        tls_verify: {{ .Values.admin.adminTLSVerify }}
      addresses:                      # record the status address of the gateway-api gateway
      - "{{ .Values.statusAddress }}"
